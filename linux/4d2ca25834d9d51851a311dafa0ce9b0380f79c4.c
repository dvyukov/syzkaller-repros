// general protection fault in __list_del_entry
// https://syzkaller.appspot.com/bug?id=4d2ca25834d9d51851a311dafa0ce9b0380f79c4
// status:open
// autogenerated by syzkaller (http://github.com/google/syzkaller)

#define _GNU_SOURCE

#include <endian.h>
#include <sys/syscall.h>
#include <unistd.h>

#include <stdint.h>
#include <string.h>

long r[1];
void loop()
{
  memset(r, -1, sizeof(r));
  syscall(__NR_mmap, 0x20000000, 0x23a000, 0x3, 0x32, 0xffffffff, 0x0);
  r[0] = syscall(__NR_socket, 0x10, 0x3, 0x6);
  memcpy((void*)0x20239000, "\x21\x00\x00\x00\x12\x00\x07\x01\x00\x01"
                            "\x00\x19\x02\x00\x00\x00\x07\x00\x01\x00"
                            "\x00\x00\x00\x00\xff\xff\xff\xff\x01\x80"
                            "\x00\x00\x00",
         33);
  syscall(__NR_write, r[0], 0x20239000, 0x21);
}

int main()
{
  loop();
  return 0;
}
