// WARNING in perf_trace_buf_alloc
// https://syzkaller.appspot.com/bug?id=99f4c0e4e1160b06f2320ded300f6ec6cda6a60c
// status:invalid
// autogenerated by syzkaller (http://github.com/google/syzkaller)

#ifndef __NR_bpf
#define __NR_bpf 321
#endif

#define _GNU_SOURCE

#include <stdint.h>
#include <string.h>
#include <sys/syscall.h>
#include <unistd.h>

static void test();

void loop()
{
  while (1) {
    test();
  }
}

long r[42];
void test()
{
  memset(r, -1, sizeof(r));
  r[0] = syscall(__NR_mmap, 0x20000000ul, 0xfff000ul, 0x3ul, 0x32ul,
                 0xfffffffffffffffful, 0x0ul);
  *(uint32_t*)0x2001d000 = (uint32_t)0x2;
  *(uint32_t*)0x2001d004 = (uint32_t)0x78;
  *(uint8_t*)0x2001d008 = (uint8_t)0x1f;
  *(uint8_t*)0x2001d009 = (uint8_t)0x1;
  *(uint8_t*)0x2001d00a = (uint8_t)0x0;
  *(uint8_t*)0x2001d00b = (uint8_t)0x0;
  *(uint32_t*)0x2001d00c = (uint32_t)0x0;
  *(uint64_t*)0x2001d010 = (uint64_t)0x0;
  *(uint64_t*)0x2001d018 = (uint64_t)0x0;
  *(uint64_t*)0x2001d020 = (uint64_t)0x0;
  *(uint8_t*)0x2001d028 = (uint8_t)0xfe;
  *(uint8_t*)0x2001d029 = (uint8_t)0x0;
  *(uint8_t*)0x2001d02a = (uint8_t)0x0;
  *(uint8_t*)0x2001d02b = (uint8_t)0x0;
  *(uint32_t*)0x2001d02c = (uint32_t)0x0;
  *(uint32_t*)0x2001d030 = (uint32_t)0x0;
  *(uint32_t*)0x2001d034 = (uint32_t)0x0;
  *(uint64_t*)0x2001d038 = (uint64_t)0x0;
  *(uint64_t*)0x2001d040 = (uint64_t)0x0;
  *(uint64_t*)0x2001d048 = (uint64_t)0x0;
  *(uint64_t*)0x2001d050 = (uint64_t)0x0;
  *(uint64_t*)0x2001d058 = (uint64_t)0x0;
  *(uint32_t*)0x2001d060 = (uint32_t)0x0;
  *(uint64_t*)0x2001d068 = (uint64_t)0x0;
  *(uint32_t*)0x2001d070 = (uint32_t)0x0;
  *(uint16_t*)0x2001d074 = (uint16_t)0x0;
  *(uint16_t*)0x2001d076 = (uint16_t)0x0;
  r[28] = syscall(__NR_perf_event_open, 0x2001d000ul, 0x0ul, 0x0ul,
                  0xfffffffffffffffful, 0x0ul);
  *(uint32_t*)0x20013fec = (uint32_t)0x5;
  *(uint32_t*)0x20013ff0 = (uint32_t)0x4;
  *(uint32_t*)0x20013ff4 = (uint32_t)0xe27;
  *(uint32_t*)0x20013ff8 = (uint32_t)0x1;
  *(uint32_t*)0x20013ffc = (uint32_t)0x0;
  *(uint32_t*)0x20014000 = (uint32_t)0x0;
  *(uint32_t*)0x20014004 = (uint32_t)0x0;
  r[36] = syscall(__NR_bpf, 0x0ul, 0x20013fecul, 0x14ul);
  *(uint32_t*)0x2000b000 = r[36];
  *(uint64_t*)0x2000b008 = (uint64_t)0x2000a000;
  *(uint64_t*)0x2000b010 = (uint64_t)0x20006000;
  *(uint64_t*)0x2000b018 = (uint64_t)0x0;
  r[41] = syscall(__NR_bpf, 0x2ul, 0x2000b000ul, 0x20ul);
}

int main()
{
  loop();
  return 0;
}
